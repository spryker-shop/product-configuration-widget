{% extends template('widget') %}

{% define data = {
    isVisible: _widget.isVisible,
    form: _widget.form | default,
    productConfigurationRouteName: _widget.productConfigurationRouteName | default,
    sourceType: _widget.sourceType | default,
    sku: _widget.sku | default,
} %}

{%- block template -%}
    {% if data.isVisible %}
        {{ parent() }}
    {% endif %}
{%- endblock -%}

{% block body %}
    {% include molecule('configuration-form', 'ProductConfigurationWidget') with {
        data: {
            form: data.form,
            productConfigurationRouteName: data.productConfigurationRouteName,
            actionParams: {
                'source-type': data.sourceType,
                sku: data.sku,
            },
        },
    } only %}
{% endblock %}
